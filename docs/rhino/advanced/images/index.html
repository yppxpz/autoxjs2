<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-rhino/advanced/images" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Images 图片与颜色 | Autox.js</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/docs/rhino/advanced/images"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Images 图片与颜色 | Autox.js"><meta data-rh="true" name="description" content="稳定性: 稳定"><meta data-rh="true" property="og:description" content="稳定性: 稳定"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/docs/rhino/advanced/images"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/docs/rhino/advanced/images" hreflang="zh"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/docs/rhino/advanced/images" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Autox.js RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Autox.js Atom Feed"><link rel="stylesheet" href="/assets/css/styles.cce5deda.css">
<script src="/assets/js/runtime~main.66572841.js" defer="defer"></script>
<script src="/assets/js/main.4febb98b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Autox.js</b></a><a class="navbar__item navbar__link" href="/docs/overview">综述</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/rhino/documentation">第一代api文档(v6)</a><a class="navbar__item navbar__link" href="/docs/nodejs/intro">第二代api文档(v7)</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kkevsekk1/AutoX" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/images/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Autox.js</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/rhino/documentation">关于本文档</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/rhino/base/app">基础</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/app">APP 应用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/console">Console 控制台</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/coordinatesBasedAutomation">基于坐标的触摸模拟</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/device">Device 设备</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/dialogs">Dialogs 对话框</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/files">Files 文件系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/globals">全局变量与函数</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/http">HTTP 网络请求</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/keys">Keys 按键模拟</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/mqtt">MQTT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/storages">Storages 本地储存</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/timers">Timers 定时器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/ui">UI 用户界面</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/websocket">websocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/base/widgetsBasedAutomation">基于控件的操作</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/rhino/advanced/axios">高级</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/axios">axios</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/base64">Base64 编码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/canvas">Canvas 画布</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/continuation">协程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/crypto">crypto 消息处理（加密，摘要）</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/engines">Engines 引擎</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/events">Events 事件与监听</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/floaty">Floaty 悬浮窗</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/rhino/advanced/images">Images 图片与颜色</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/media">Media 多媒体</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/modules">module (模块)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/ocr">OCR 文字识别</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/sensors">Sensors 传感器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/shell">shell 终端</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/threads">Threads 多线程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/webViewAndHtml">WebView 与 HTML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/rhino/advanced/zips">Zips 压缩与解压</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/rhino/npm/buffer">npm模块</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/rhino/qa">Q &amp; A 常见问题</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/rhino/workWithJava">与 Java 交互</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">高级</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Images 图片与颜色</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Images 图片与颜色</h1>
<blockquote>
<p>稳定性: 稳定</p>
</blockquote>
<p>在 Auto.js 有两种方式表示一个颜色。</p>
<p>一种是使用一个字符串&quot;#AARRGGBB&quot;或&quot;#RRGGBB&quot;，其中 AA 是 Alpha 通道(透明度)的值，RR 是 R 通道(红色)的值，GG 是 G 通道(绿色)的值，BB 是 B 通道(蓝色)的值。例如&quot;#ffffff&quot;表示白色, &quot;#7F000000&quot;表示半透明的黑色。</p>
<p>另一种是使用一个 16 进制的&quot;32 位整数&quot; 0xAARRGGBB 来表示一个颜色，例如 <code>0xFF112233</code>表示颜色&quot;#112233&quot;, <code>0x11223344</code>表示颜色&quot;#11223344&quot;。</p>
<p>可以通过<code>colors.toString()</code>把颜色整数转换为字符串，通过<code>colors.parseColor()</code>把颜色字符串解析为颜色整数。</p>
<h1>colors</h1>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorstostringcolor">colors.toString(color)<a class="hash-link" aria-label="colors.toString(color)的直接链接" title="colors.toString(color)的直接链接" href="/docs/rhino/advanced/images#colorstostringcolor">​</a></h2>
<ul>
<li><code>color</code> {number} 整数 RGB 颜色值</li>
<li>返回 {string}</li>
</ul>
<p>返回颜色值的字符串，格式为 &quot;#AARRGGBB&quot;。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsredcolor">colors.red(color)<a class="hash-link" aria-label="colors.red(color)的直接链接" title="colors.red(color)的直接链接" href="/docs/rhino/advanced/images#colorsredcolor">​</a></h2>
<ul>
<li><code>color</code> {number} | {string} 颜色值</li>
<li>返回 {number}</li>
</ul>
<p>返回颜色 color 的 R 通道的值，范围 0~255.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsgreencolor">colors.green(color)<a class="hash-link" aria-label="colors.green(color)的直接链接" title="colors.green(color)的直接链接" href="/docs/rhino/advanced/images#colorsgreencolor">​</a></h2>
<ul>
<li><code>color</code> {number} | {string} 颜色值</li>
<li>返回 {number}</li>
</ul>
<p>返回颜色 color 的 G 通道的值，范围 0~255.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsbluecolor">colors.blue(color)<a class="hash-link" aria-label="colors.blue(color)的直接链接" title="colors.blue(color)的直接链接" href="/docs/rhino/advanced/images#colorsbluecolor">​</a></h2>
<ul>
<li><code>color</code> {number} | {string} 颜色值</li>
<li>返回 {number}</li>
</ul>
<p>返回颜色 color 的 B 通道的值，范围 0~255.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsalphacolor">colors.alpha(color)<a class="hash-link" aria-label="colors.alpha(color)的直接链接" title="colors.alpha(color)的直接链接" href="/docs/rhino/advanced/images#colorsalphacolor">​</a></h2>
<ul>
<li><code>color</code> {number} | {string} 颜色值</li>
<li>返回 {number}</li>
</ul>
<p>返回颜色 color 的 Alpha 通道的值，范围 0~255.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsrgbred-green-blue">colors.rgb(red, green, blue)<a class="hash-link" aria-label="colors.rgb(red, green, blue)的直接链接" title="colors.rgb(red, green, blue)的直接链接" href="/docs/rhino/advanced/images#colorsrgbred-green-blue">​</a></h2>
<ul>
<li>red {number} 颜色的 R 通道的值</li>
<li>blue {number} 颜色的 G 通道的值</li>
<li>green {number} 颜色的 B 通道的值</li>
<li>返回 {number}</li>
</ul>
<p>返回这些颜色通道构成的整数颜色值。Alpha 通道将是 255（不透明）。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsargbalpha-red-green-blue">colors.argb(alpha, red, green, blue)<a class="hash-link" aria-label="colors.argb(alpha, red, green, blue)的直接链接" title="colors.argb(alpha, red, green, blue)的直接链接" href="/docs/rhino/advanced/images#colorsargbalpha-red-green-blue">​</a></h2>
<ul>
<li><code>alpha</code> {number} 颜色的 Alpha 通道的值</li>
<li><code>red</code> {number} 颜色的 R 通道的值</li>
<li><code>green</code> {number} 颜色的 G 通道的值</li>
<li><code>blue</code> {number} 颜色的 B 通道的值</li>
<li>返回 {number}</li>
</ul>
<p>返回这些颜色通道构成的整数颜色值。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsparsecolorcolorstr">colors.parseColor(colorStr)<a class="hash-link" aria-label="colors.parseColor(colorStr)的直接链接" title="colors.parseColor(colorStr)的直接链接" href="/docs/rhino/advanced/images#colorsparsecolorcolorstr">​</a></h2>
<ul>
<li><code>colorStr</code> {string} 表示颜色的字符串，例如&quot;#112233&quot;</li>
<li>返回 {number}</li>
</ul>
<p>返回颜色的整数值。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsissimilarcolor2-color2-threshold-algorithm">colors.isSimilar(color2, color2[, threshold, algorithm])<a class="hash-link" aria-label="colors.isSimilar(color2, color2[, threshold, algorithm])的直接链接" title="colors.isSimilar(color2, color2[, threshold, algorithm])的直接链接" href="/docs/rhino/advanced/images#colorsissimilarcolor2-color2-threshold-algorithm">​</a></h2>
<ul>
<li><code>color1</code> {number} | {string} 颜色值 1</li>
<li><code>color1</code> {number} | {string} 颜色值 2</li>
<li><code>threshold</code> {number} 颜色相似度临界值，默认为 4。取值范围为 0~255。这个值越大表示允许的相似程度越小，如果这个值为 0，则两个颜色相等时该函数才会返回 true。</li>
<li><code>algorithm</code> {string} 颜色匹配算法，默认为&quot;diff&quot;, 包括:<!-- -->
<ul>
<li>&quot;diff&quot;:   差值匹配。与给定颜色的 R、G、B 差的绝对值之和小于 threshold 时匹配。</li>
<li>&quot;rgb&quot;: rgb 欧拉距离相似度。与给定颜色 color 的 rgb 欧拉距离小于等于 threshold 时匹配。</li>
<li>&quot;rgb+&quot;: 加权 rgb 欧拉距离匹配(<a href="https://en.wikipedia.org/wiki/Color_difference" target="_blank" rel="noopener noreferrer">LAB Delta E</a>)。</li>
<li>&quot;hs&quot;: hs 欧拉距离匹配。hs 为 HSV 空间的色调值。</li>
</ul>
</li>
<li>返回 {Boolean}</li>
</ul>
<p>返回两个颜色是否相似。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsequalscolor1-color2">colors.equals(color1, color2)<a class="hash-link" aria-label="colors.equals(color1, color2)的直接链接" title="colors.equals(color1, color2)的直接链接" href="/docs/rhino/advanced/images#colorsequalscolor1-color2">​</a></h2>
<ul>
<li><code>color1</code> {number} | {string} 颜色值 1</li>
<li><code>color1</code> {number} | {string} 颜色值 2</li>
<li>返回 {Boolean}</li>
</ul>
<p>返回两个颜色是否相等。*<em>注意该函数会忽略 Alpha 通道的值进行比较</em>。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">colors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;#112233&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#112234&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">colors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0xff112233</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0xff223344</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsblack">colors.BLACK<a class="hash-link" aria-label="colors.BLACK的直接链接" title="colors.BLACK的直接链接" href="/docs/rhino/advanced/images#colorsblack">​</a></h2>
<p>黑色，颜色值 #FF000000</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsdkgray">colors.DKGRAY<a class="hash-link" aria-label="colors.DKGRAY的直接链接" title="colors.DKGRAY的直接链接" href="/docs/rhino/advanced/images#colorsdkgray">​</a></h2>
<p>深灰色，颜色值 #FF444444</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsgray">colors.GRAY<a class="hash-link" aria-label="colors.GRAY的直接链接" title="colors.GRAY的直接链接" href="/docs/rhino/advanced/images#colorsgray">​</a></h2>
<p>灰色，颜色值 #FF888888</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsltgray">colors.LTGRAY<a class="hash-link" aria-label="colors.LTGRAY的直接链接" title="colors.LTGRAY的直接链接" href="/docs/rhino/advanced/images#colorsltgray">​</a></h2>
<p>亮灰色，颜色值 #FFCCCCCC</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorswhite">colors.WHITE<a class="hash-link" aria-label="colors.WHITE的直接链接" title="colors.WHITE的直接链接" href="/docs/rhino/advanced/images#colorswhite">​</a></h2>
<p>白色，颜色值 #FFFFFFFF</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsred">colors.RED<a class="hash-link" aria-label="colors.RED的直接链接" title="colors.RED的直接链接" href="/docs/rhino/advanced/images#colorsred">​</a></h2>
<p>红色，颜色值 #FFFF0000</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsgreen">colors.GREEN<a class="hash-link" aria-label="colors.GREEN的直接链接" title="colors.GREEN的直接链接" href="/docs/rhino/advanced/images#colorsgreen">​</a></h2>
<p>绿色，颜色值 #FF00FF00</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsblue">colors.BLUE<a class="hash-link" aria-label="colors.BLUE的直接链接" title="colors.BLUE的直接链接" href="/docs/rhino/advanced/images#colorsblue">​</a></h2>
<p>蓝色，颜色值 #FF0000FF</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsyellow">colors.YELLOW<a class="hash-link" aria-label="colors.YELLOW的直接链接" title="colors.YELLOW的直接链接" href="/docs/rhino/advanced/images#colorsyellow">​</a></h2>
<p>黄色，颜色值 #FFFFFF00</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorscyan">colors.CYAN<a class="hash-link" aria-label="colors.CYAN的直接链接" title="colors.CYAN的直接链接" href="/docs/rhino/advanced/images#colorscyan">​</a></h2>
<p>青色，颜色值 #FF00FFFF</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorsmagenta">colors.MAGENTA<a class="hash-link" aria-label="colors.MAGENTA的直接链接" title="colors.MAGENTA的直接链接" href="/docs/rhino/advanced/images#colorsmagenta">​</a></h2>
<p>品红色，颜色值 #FFFF00FF</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="colorstransparent">colors.TRANSPARENT<a class="hash-link" aria-label="colors.TRANSPARENT的直接链接" title="colors.TRANSPARENT的直接链接" href="/docs/rhino/advanced/images#colorstransparent">​</a></h2>
<p>透明，颜色值 #00000000</p>
<h1>Images</h1>
<blockquote>
<p>稳定性: 稳定</p>
</blockquote>
<p>images 模块提供了一些手机设备中常见的图片处理函数，包括截图、读写图片、图片剪裁、旋转、二值化、找色找图等。</p>
<p>该模块分为两个部分，找图找色部分和图片处理部分。</p>
<p>需要注意的是，image 对象创建后尽量在不使用时进行回收，同时避免循环创建大量图片。因为图片是一种占用内存比较大的资源，尽管 Auto.js 通过各种方式（比如图片缓存机制、垃圾回收时回收图片、脚本结束时回收所有图片）尽量降低图片资源的泄漏和内存占用，但是糟糕的代码仍然可以占用大量内存。</p>
<p>Image 对象通过调用<code>recycle()</code>函数来回收。例如：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 读取图片</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;./1.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//对图片进行操作</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 回收图片</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">recycle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>例外的是，<code>caputerScreen()</code>返回的图片不需要回收。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="图片处理">图片处理<a class="hash-link" aria-label="图片处理的直接链接" title="图片处理的直接链接" href="/docs/rhino/advanced/images#图片处理">​</a></h2>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesreadpath">images.read(path)<a class="hash-link" aria-label="images.read(path)的直接链接" title="images.read(path)的直接链接" href="/docs/rhino/advanced/images#imagesreadpath">​</a></h2>
<ul>
<li><code>path</code> {string} 图片路径</li>
</ul>
<p>读取在路径 path 的图片文件并返回一个 Image 对象。如果文件不存在或者文件无法解码则返回 null。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesloadurl">images.load(url)<a class="hash-link" aria-label="images.load(url)的直接链接" title="images.load(url)的直接链接" href="/docs/rhino/advanced/images#imagesloadurl">​</a></h2>
<ul>
<li><code>url</code> {string} 图片 URL 地址</li>
</ul>
<p>加载在地址 URL 的网络图片并返回一个 Image 对象。如果地址不存在或者图片无法解码则返回 null。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagescopyimg">images.copy(img)<a class="hash-link" aria-label="images.copy(img)的直接链接" title="images.copy(img)的直接链接" href="/docs/rhino/advanced/images#imagescopyimg">​</a></h2>
<ul>
<li><code>img</code> {Image} 图片</li>
<li>返回 {Image}</li>
</ul>
<p>复制一张图片并返回新的副本。该函数会完全复制 img 对象的数据。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagessaveimage-path-format--png-quality--100">images.save(image, path[, format = &quot;png&quot;, quality = 100])<a class="hash-link" aria-label="images.save(image, path[, format = &quot;png&quot;, quality = 100])的直接链接" title="images.save(image, path[, format = &quot;png&quot;, quality = 100])的直接链接" href="/docs/rhino/advanced/images#imagessaveimage-path-format--png-quality--100">​</a></h2>
<ul>
<li><code>image</code> {Image} 图片</li>
<li><code>path</code> {string} 路径</li>
<li><code>format</code> {string} 图片格式，可选的值为:<!-- -->
<ul>
<li><code>png</code></li>
<li><code>jpeg</code>/<code>jpg</code></li>
<li><code>webp</code></li>
</ul>
</li>
<li><code>quality</code> {number} 图片质量，为 0~100 的整数值</li>
</ul>
<p>把图片 image 以 PNG 格式保存到 path 中。如果文件不存在会被创建；文件存在会被覆盖。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//把图片压缩为原来的一半质量并保存</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/sdcard/1.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sdcard/1.jpg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;jpg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">viewFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/sdcard/1.jpg&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesfrombase64base64">images.fromBase64(base64)<a class="hash-link" aria-label="images.fromBase64(base64)的直接链接" title="images.fromBase64(base64)的直接链接" href="/docs/rhino/advanced/images#imagesfrombase64base64">​</a></h2>
<ul>
<li><code>base64</code> {string} 图片的 Base64 数据</li>
<li>返回 {Image}</li>
</ul>
<p>解码 Base64 数据并返回解码后的图片 Image 对象。如果 base64 无法解码则返回<code>null</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagestobase64img-format--png-quality--100">images.toBase64(img[, format = &quot;png&quot;, quality = 100])<a class="hash-link" aria-label="images.toBase64(img[, format = &quot;png&quot;, quality = 100])的直接链接" title="images.toBase64(img[, format = &quot;png&quot;, quality = 100])的直接链接" href="/docs/rhino/advanced/images#imagestobase64img-format--png-quality--100">​</a></h2>
<ul>
<li><code>image</code> {image} 图片</li>
<li><code>format</code> {string} 图片格式，可选的值为:<!-- -->
<ul>
<li><code>png</code></li>
<li><code>jpeg</code>/<code>jpg</code></li>
<li><code>webp</code></li>
</ul>
</li>
<li><code>quality</code> {number} 图片质量，为 0~100 的整数值</li>
<li>返回 {string}</li>
</ul>
<p>把图片编码为 base64 数据并返回。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesfrombytesbytes">images.fromBytes(bytes)<a class="hash-link" aria-label="images.fromBytes(bytes)的直接链接" title="images.fromBytes(bytes)的直接链接" href="/docs/rhino/advanced/images#imagesfrombytesbytes">​</a></h2>
<ul>
<li><code>bytes</code> {byte[]} 字节数组</li>
</ul>
<p>解码字节数组 bytes 并返回解码后的图片 Image 对象。如果 bytes 无法解码则返回<code>null</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagestobytesimg-format--png-quality--100">images.toBytes(img[, format = &quot;png&quot;, quality = 100])<a class="hash-link" aria-label="images.toBytes(img[, format = &quot;png&quot;, quality = 100])的直接链接" title="images.toBytes(img[, format = &quot;png&quot;, quality = 100])的直接链接" href="/docs/rhino/advanced/images#imagestobytesimg-format--png-quality--100">​</a></h2>
<ul>
<li><code>image</code> {image} 图片</li>
<li><code>format</code> {string} 图片格式，可选的值为:<!-- -->
<ul>
<li><code>png</code></li>
<li><code>jpeg</code>/<code>jpg</code></li>
<li><code>webp</code></li>
</ul>
</li>
<li><code>quality</code> {number} 图片质量，为 0~100 的整数值</li>
<li>返回 {byte[]}</li>
</ul>
<p>把图片编码为字节数组并返回。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesclipimg-x-y-w-h">images.clip(img, x, y, w, h)<a class="hash-link" aria-label="images.clip(img, x, y, w, h)的直接链接" title="images.clip(img, x, y, w, h)的直接链接" href="/docs/rhino/advanced/images#imagesclipimg-x-y-w-h">​</a></h2>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>x</code> {number} 剪切区域的左上角横坐标</li>
<li><code>y</code> {number} 剪切区域的左上角纵坐标</li>
<li><code>w</code> {number} 剪切区域的宽度</li>
<li><code>h</code> {number} 剪切区域的高度</li>
<li>返回 {Image}</li>
</ul>
<p>从图片 img 的位置(x, y)处剪切大小为 w * h 的区域，并返回该剪切区域的新图片。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> src </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/sdcard/1.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> clip </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">clip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">src</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">400</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">clip</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/sdcard/clip.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesresizeimg-size-interpolation">images.resize(img, size[, interpolation])<a class="hash-link" aria-label="images.resize(img, size[, interpolation])的直接链接" title="images.resize(img, size[, interpolation])的直接链接" href="/docs/rhino/advanced/images#imagesresizeimg-size-interpolation">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li>
<p><code>img</code> {Image} 图片</p>
</li>
<li>
<p><code>size</code> {Array} 两个元素的数组[w, h]，分别表示宽度和高度；如果只有一个元素，则宽度和高  度相等</p>
</li>
<li>
<p><code>interpolation</code> {string} 插值方法，可选，默认为&quot;LINEAR&quot;（线性插值），可选的值有：</p>
<ul>
<li><code>NEAREST</code> 最近邻插值</li>
<li><code>LINEAR</code> 线性插值（默认）</li>
<li><code>AREA</code> 区域插值</li>
<li><code>CUBIC</code> 三次样条插值</li>
<li><code>LANCZOS4</code> Lanczos 插值
参见<a href="https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#ga5bb5a1fea74ea38e1a5445ca803ff121" target="_blank" rel="noopener noreferrer">InterpolationFlags</a></li>
</ul>
</li>
<li>
<p>返回 {Image}</p>
</li>
</ul>
<p>调整图片大小，并返回调整后的图片。例如把图片放缩为 200*300：<code>images.resize(img, [200, 300])</code>。</p>
<p>参见<a href="https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d" target="_blank" rel="noopener noreferrer">Imgproc.resize</a>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesscaleimg-fx-fy-interpolation">images.scale(img, fx, fy[, interpolation])<a class="hash-link" aria-label="images.scale(img, fx, fy[, interpolation])的直接链接" title="images.scale(img, fx, fy[, interpolation])的直接链接" href="/docs/rhino/advanced/images#imagesscaleimg-fx-fy-interpolation">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li>
<p><code>img</code> {Image} 图片</p>
</li>
<li>
<p><code>fx</code> {number} 宽度放缩倍数</p>
</li>
<li>
<p><code>fy</code> {number} 高度放缩倍数</p>
</li>
<li>
<p><code>interpolation</code> {string} 插值方法，可选，默认为&quot;LINEAR&quot;（线性插值），可选的值有：</p>
<ul>
<li><code>NEAREST</code> 最近邻插值</li>
<li><code>LINEAR</code> 线性插值（默认）</li>
<li><code>AREA</code> 区域插值</li>
<li><code>CUBIC</code> 三次样条插值</li>
<li><code>LANCZOS4</code> Lanczos 插值
参见<a href="https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#ga5bb5a1fea74ea38e1a5445ca803ff121" target="_blank" rel="noopener noreferrer">InterpolationFlags</a></li>
</ul>
</li>
<li>
<p>返回 {Image}</p>
</li>
</ul>
<p>放缩图片，并返回放缩后的图片。例如把图片变成原来的一半：<code>images.scale(img, 0.5, 0.5)</code>。</p>
<p>参见<a href="https://docs.opencv.org/3.4.4/da/d54/group__imgproc__transform.html#ga47a974309e9102f5f08231edc7e7529d" target="_blank" rel="noopener noreferrer">Imgproc.resize</a>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesrotateimg-degress-x-y">images.rotate(img, degress[, x, y])<a class="hash-link" aria-label="images.rotate(img, degress[, x, y])的直接链接" title="images.rotate(img, degress[, x, y])的直接链接" href="/docs/rhino/advanced/images#imagesrotateimg-degress-x-y">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>degress</code> {number} 旋转角度。</li>
<li><code>x</code> {number} 旋转中心 x 坐标，默认为图片中点</li>
<li><code>y</code> {number} 旋转中心 y 坐标，默认为图片中点</li>
<li>返回 {Image}</li>
</ul>
<p>将图片逆时针旋转 degress 度，返回旋转后的图片对象。</p>
<p>例如逆时针旋转 90 度为<code>images.rotate(img, 90)</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesconcatimg1-image2-direction">images.concat(img1, image2[, direction])<a class="hash-link" aria-label="images.concat(img1, image2[, direction])的直接链接" title="images.concat(img1, image2[, direction])的直接链接" href="/docs/rhino/advanced/images#imagesconcatimg1-image2-direction">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img1</code> {Image} 图片 1</li>
<li><code>img2</code> {Image} 图片 2</li>
<li>direction {string} 连接方向，默认为&quot;RIGHT&quot;，可选的值有：<!-- -->
<ul>
<li><code>LEFT</code> 将图片 2 接到图片 1 左边</li>
<li><code>RIGHT</code> 将图片 2 接到图片 1 右边</li>
<li><code>TOP</code> 将图片 2 接到图片 1 上 边</li>
<li><code>BOTTOM</code> 将图片 2 接到图片 1 下边</li>
</ul>
</li>
<li>返回 {Image}</li>
</ul>
<p>连接两张图片，并返回连接后的图像。如果两张图片大小不一致，小的那张将适当居中。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesgrayscaleimg">images.grayscale(img)<a class="hash-link" aria-label="images.grayscale(img)的直接链接" title="images.grayscale(img)的直接链接" href="/docs/rhino/advanced/images#imagesgrayscaleimg">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 图片</li>
<li>返回 {Image}</li>
</ul>
<p>灰度化图片，并返回灰度化后的图片。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagethresholdimg-threshold-maxval-type">image.threshold(img, threshold, maxVal[, type])<a class="hash-link" aria-label="image.threshold(img, threshold, maxVal[, type])的直接链接" title="image.threshold(img, threshold, maxVal[, type])的直接链接" href="/docs/rhino/advanced/images#imagethresholdimg-threshold-maxval-type">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>threshold</code> {number} 阈值</li>
<li><code>maxVal</code> {number} 最大值</li>
<li><code>type</code> {string} 阈值化类型，默认为&quot;BINARY&quot;，参见<a href="https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc.html#gaa9e58d2860d4afa658ef70a9b1115576" target="_blank" rel="noopener noreferrer">ThresholdTypes</a>, 可选的值:<!-- -->
<ul>
<li><code>BINARY</code></li>
<li><code>BINARY_INV</code></li>
<li><code>TRUNC</code></li>
<li><code>TOZERO</code></li>
<li><code>TOZERO_INV</code></li>
<li><code>OTSU</code></li>
<li><code>TRIANGLE</code></li>
</ul>
</li>
<li>返回 {Image}</li>
</ul>
<p>将图片阈值化，并返回处理后的图像。可以用这个函数进行图片二值化。例如：<code>images.threshold(img, 100, 255, &quot;BINARY&quot;)</code>，这个代码将图片中大于 100 的值全部变成 255， 其余变成 0，从而达到二值化的效果。如果 img 是一张灰度化图片，这个代码将会得到一张黑白图片。</p>
<p>可以参考有关博客（比如<a href="https://blog.csdn.net/u012566751/article/details/77046445" target="_blank" rel="noopener noreferrer">threshold 函数的使用</a>）或者 OpenCV 文档<a href="https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc.html#gae8a4a146d1ca78c626a53577199e9c57" target="_blank" rel="noopener noreferrer">threshold</a>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesadaptivethresholdimg-maxvalue-adaptivemethod-thresholdtype-blocksize-c">images.adaptiveThreshold(img, maxValue, adaptiveMethod, thresholdType, blockSize, C)<a class="hash-link" aria-label="images.adaptiveThreshold(img, maxValue, adaptiveMethod, thresholdType, blockSize, C)的直接链接" title="images.adaptiveThreshold(img, maxValue, adaptiveMethod, thresholdType, blockSize, C)的直接链接" href="/docs/rhino/advanced/images#imagesadaptivethresholdimg-maxvalue-adaptivemethod-thresholdtype-blocksize-c">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>maxValue</code> {number} 最大值</li>
<li><code>adaptiveMethod</code> {string} 在一个邻域内计算阈值所采用的算法，可选的值有：<!-- -->
<ul>
<li><code>MEAN_C</code> 计算出领域的平均值再减去参数 C 的值</li>
<li><code>GAUSSIAN_C</code> 计算出领域的高斯均值再减去参数 C 的值</li>
</ul>
</li>
<li><code>thresholdType</code> {string} 阈值化类型，可选的值有：<!-- -->
<ul>
<li><code>BINARY</code></li>
<li><code>BINARY_INV</code></li>
</ul>
</li>
<li><code>blockSize</code> {number} 邻域块大小</li>
<li><code>C</code> {number} 偏移值调整量</li>
<li>返回 {Image}</li>
</ul>
<p>对图片进行自适应阈值化处理，并返回处理后的图像。</p>
<p>可以参考有关博客（比如<a href="https://blog.csdn.net/guduruyu/article/details/68059450" target="_blank" rel="noopener noreferrer">threshold 与 adaptiveThreshold</a>）或者 OpenCV 文档<a href="https://docs.opencv.org/3.4.4/d7/d1b/group__imgproc__misc.html#ga72b913f352e4a1b1b397736707afcde3" target="_blank" rel="noopener noreferrer">adaptiveThreshold</a>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagescvtcolorimg-code-dstcn">images.cvtColor(img, code[, dstCn])<a class="hash-link" aria-label="images.cvtColor(img, code[, dstCn])的直接链接" title="images.cvtColor(img, code[, dstCn])的直接链接" href="/docs/rhino/advanced/images#imagescvtcolorimg-code-dstcn">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>code</code> {string} 颜色空间转换的类型，可选的值有一共有 205 个（参见<a href="https://docs.opencv.org/3.4.4/d8/d01/group__imgproc__color__conversions.html#ga4e0972be5de079fed4e3a10e24ef5ef0" target="_blank" rel="noopener noreferrer">ColorConversionCodes</a>），这里只列出几个：<!-- -->
<ul>
<li><code>BGR2GRAY</code> BGR 转换为灰度</li>
<li><code>BGR2HSV </code> BGR 转换为 HSV</li>
<li>``</li>
</ul>
</li>
<li><code>dstCn</code> {number} 目标图像的颜色通道数量，如果不填写则根据其他参数自动决定。</li>
<li>返回 {Image}</li>
</ul>
<p>对图像进行颜色空间转换，并返回转换后的图像。</p>
<p>可以参考有关博客（比如<a href="https://blog.csdn.net/u011574296/article/details/70896811?locationNum=14&amp;fps=1" target="_blank" rel="noopener noreferrer">颜色空间转换</a>）或者 OpenCV 文档<a href="https://docs.opencv.org/3.4.4/d8/d01/group__imgproc__color__conversions.html#ga397ae87e1288a81d2363b61574eb8cab" target="_blank" rel="noopener noreferrer">cvtColor</a>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesinrangeimg-lowerbound-upperbound">images.inRange(img, lowerBound, upperBound)<a class="hash-link" aria-label="images.inRange(img, lowerBound, upperBound)的直接链接" title="images.inRange(img, lowerBound, upperBound)的直接链接" href="/docs/rhino/advanced/images#imagesinrangeimg-lowerbound-upperbound">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>lowerBound</code> {string} | {number} 颜色下界</li>
<li><code>upperBound</code> {string} | {number} 颜色下界</li>
<li>返回 {Image}</li>
</ul>
<p>将图片二值化，在 lowerBound~upperBound 范围以外的颜色都变成 0，在范围以内的颜色都变成 255。</p>
<p>例如<code>images.inRange(img, &quot;#000000&quot;, &quot;#222222&quot;)</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesintervalimg-color-interval">images.interval(img, color, interval)<a class="hash-link" aria-label="images.interval(img, color, interval)的直接链接" title="images.interval(img, color, interval)的直接链接" href="/docs/rhino/advanced/images#imagesintervalimg-color-interval">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>color</code> {string} | {number} 颜色值</li>
<li><code>interval</code> {number} 每个通道的范围间隔</li>
<li>返回 {Image}</li>
</ul>
<p>将图片二值化，在 color-interval ~ color+interval 范围以外的颜色都变成 0，在范围以内的颜色都变成 255。这里对 color 的加减是对每个通道而言的。</p>
<p>例如<code>images.interval(img, &quot;#888888&quot;, 16)</code>，每个通道的颜色值均为 0x88，加减 16 后的范围是[0x78, 0x98]，因此这个代码将把#787878~#989898 的颜色变成#FFFFFF，而把这个范围以外的变成#000000。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesblurimg-size-anchor-type">images.blur(img, size[, anchor, type])<a class="hash-link" aria-label="images.blur(img, size[, anchor, type])的直接链接" title="images.blur(img, size[, anchor, type])的直接链接" href="/docs/rhino/advanced/images#imagesblurimg-size-anchor-type">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>size</code> {Array} 定义滤波器的大小，如[3, 3]</li>
<li><code>anchor</code> {Array} 指定锚点位置(被平滑点)，默认为图像中心</li>
<li><code>type</code> {string} 推断边缘像素类型，默认为&quot;DEFAULT&quot;，可选的值有：<!-- -->
<ul>
<li><code>CONSTANT</code> iiiiii|abcdefgh|iiiiiii with some specified i</li>
<li><code>REPLICATE</code> aaaaaa|abcdefgh|hhhhhhh</li>
<li><code>REFLECT</code> fedcba|abcdefgh|hgfedcb</li>
<li><code>WRAP</code> cdefgh|abcdefgh|abcdefg</li>
<li><code>REFLECT_101</code> gfedcb|abcdefgh|gfedcba</li>
<li><code>TRANSPARENT</code> uvwxyz|abcdefgh|ijklmno</li>
<li><code>REFLECT101</code> same as BORDER_REFLECT_101</li>
<li><code>DEFAULT</code> same as BORDER_REFLECT_101</li>
<li><code>ISOLATED</code> do not look outside of ROI</li>
</ul>
</li>
<li>返回 {Image}</li>
</ul>
<p>对图像进行模糊（平滑处理），返回处理后的图像。</p>
<p>可以参考有关博客（比如<a href="https://www.cnblogs.com/denny402/p/3848316.html" target="_blank" rel="noopener noreferrer">实现图像平滑处理</a>）或者 OpenCV 文档<a href="https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter.html#ga8c45db9afe636703801b0b2e440fce37" target="_blank" rel="noopener noreferrer">blur</a>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesmedianblurimg-size">images.medianBlur(img, size)<a class="hash-link" aria-label="images.medianBlur(img, size)的直接链接" title="images.medianBlur(img, size)的直接链接" href="/docs/rhino/advanced/images#imagesmedianblurimg-size">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>size</code> {Array} 定义滤波器的大小，如[3, 3]</li>
<li>返回 {Image}</li>
</ul>
<p>对图像进行中值滤波，返回处理后的图像。</p>
<p>可以参考有关博客（比如<a href="https://www.cnblogs.com/denny402/p/3848316.html" target="_blank" rel="noopener noreferrer">实现图像平滑处理</a>） 或者 OpenCV 文档<a href="https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter.html#ga564869aa33e58769b4469101aac458f9" target="_blank" rel="noopener noreferrer">blur</a>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesgaussianblurimg-size-sigmax-sigmay-type">images.gaussianBlur(img, size[, sigmaX, sigmaY, type])<a class="hash-link" aria-label="images.gaussianBlur(img, size[, sigmaX, sigmaY, type])的直接链接" title="images.gaussianBlur(img, size[, sigmaX, sigmaY, type])的直接链接" href="/docs/rhino/advanced/images#imagesgaussianblurimg-size-sigmax-sigmay-type">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>size</code> {Array} 定义滤波器的大小，如[3, 3]</li>
<li><code>sigmaX</code> {number} x 方向的标准方差，不填写则自动计算</li>
<li><code>sigmaY</code> {number} y 方向的标准方差，不填写则自动计算</li>
<li><code>type</code> {string} 推断边缘像素类型，默认为&quot;DEFAULT&quot;，参见<code>images.blur</code></li>
<li>返回 {Image}</li>
</ul>
<p>对图像进行高斯模糊，返回处理后的图像。</p>
<p>可以参考有关博客（比如<a href="https://www.cnblogs.com/denny402/p/3848316.html" target="_blank" rel="noopener noreferrer">实现图像平滑处理</a>）或者 OpenCV 文档<a href="https://docs.opencv.org/3.4.4/d4/d86/group__imgproc__filter.html#gaabe8c836e97159a9193fb0b11ac52cf1" target="_blank" rel="noopener noreferrer">GaussianBlur</a>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesmattoimagemat">images.matToImage(mat)<a class="hash-link" aria-label="images.matToImage(mat)的直接链接" title="images.matToImage(mat)的直接链接" href="/docs/rhino/advanced/images#imagesmattoimagemat">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>mat</code> {Mat} OpenCV 的 Mat 对象</li>
<li>返回 {Image}</li>
</ul>
<p>把 Mat 对象转换为 Image 对象。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="找图找色">找图找色<a class="hash-link" aria-label="找图找色的直接链接" title="找图找色的直接链接" href="/docs/rhino/advanced/images#找图找色">​</a></h2>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesrequestscreencapturelandscape">images.requestScreenCapture([landscape])<a class="hash-link" aria-label="images.requestScreenCapture([landscape])的直接链接" title="images.requestScreenCapture([landscape])的直接链接" href="/docs/rhino/advanced/images#imagesrequestscreencapturelandscape">​</a></h2>
<ul>
<li><code>landscape</code> {boolean} 截屏方向<!-- -->
<ul>
<li><code>true</code> 横屏截图</li>
<li><code>false</code> 竖屏截图</li>
<li>不指定值，由当前设备屏幕方向决定截图方向</li>
</ul>
</li>
<li><code>return</code> {boolean}</li>
</ul>
<p>向系统申请屏幕截图权限，返回是否请求成功,仅需执行一次</p>
<p>建议在本软件界面运行该函数，在其他软件界面运行时容易出现一闪而过的黑屏现象。</p>
<p>示例:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//请求截图</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//每次使用该函数都会弹出截图权限请求，建议选择“总是允许”。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token function" style="color:#d73a49">requestScreenCapture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;请求截图失败&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//连续截图 10 张图片(间隔 1 秒)并保存到存储卡目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">captureScreen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/sdcard/screencapture&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//安卓版本高于Android 9</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">device</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">sdkInt</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//等待截屏权限申请并同意</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  threads</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">start</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">packageName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;com.android.systemui&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;立即开始&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">waitFor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;立即开始&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//申请截屏权限</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token function" style="color:#d73a49">requestScreenCapture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;请求截图失败&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>该函数也可以作为全局函数使用。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesstopscreencapturer">images.stopScreenCapturer()<a class="hash-link" aria-label="images.stopScreenCapturer()的直接链接" title="images.stopScreenCapturer()的直接链接" href="/docs/rhino/advanced/images#imagesstopscreencapturer">​</a></h2>
<p>[v6.5.8 新增]</p>
<p>停止截图权限并释放相关资源，若之后再调用<code>images.captureScreen()</code>截图会抛出错误</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagescapturescreen">images.captureScreen()<a class="hash-link" aria-label="images.captureScreen()的直接链接" title="images.captureScreen()的直接链接" href="/docs/rhino/advanced/images#imagescapturescreen">​</a></h2>
<ul>
<li><code>return</code> {Image}</li>
</ul>
<p>截取当前屏幕并返回一个 Image 对象。</p>
<p>没有截图权限时执行该函数会抛出 SecurityException。</p>
<p>该函数不会返回 null，两次调用可能返回相同的 Image 对象。这是因为设备截图的更新需要一定的时间，短时间内（一般来说是 16ms）连续调用则会返回同一张截图。</p>
<p>截图需要转换为 Bitmap 格式，从而该函数执行需要一定的时间(0~20ms)。</p>
<p>另外在 requestScreenCapture()执行成功后需要一定时间后才有截图可用，因此如果立即调用 captureScreen()，会等待一定时间后(一般为几百 ms)才返回截图。</p>
<p>例子:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//请求横屏截图</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">requestScreenCapture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//截图</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">captureScreen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//获取在点(100, 100)的颜色值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pixel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//显示该颜色值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">colors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">color</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>该函数也可以作为全局函数使用。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagescapturescreenpath">images.captureScreen(path)<a class="hash-link" aria-label="images.captureScreen(path)的直接链接" title="images.captureScreen(path)的直接链接" href="/docs/rhino/advanced/images#imagescapturescreenpath">​</a></h2>
<ul>
<li><code>path</code> {string} 截图保存路径</li>
</ul>
<p>截取当前屏幕并以 PNG 格式保存到 path 中。如果文件不存在会被创建；文件存在会被覆盖。</p>
<p>该函数不会返回任何值。该函数也可以作为全局函数使用。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagespixelimage-x-y">images.pixel(image, x, y)<a class="hash-link" aria-label="images.pixel(image, x, y)的直接链接" title="images.pixel(image, x, y)的直接链接" href="/docs/rhino/advanced/images#imagespixelimage-x-y">​</a></h2>
<ul>
<li><code>image</code> {Image} 图片</li>
<li><code>x</code> {number} 要获取的像素的横坐标。</li>
<li><code>y</code> {number} 要获取的像素的纵坐标。</li>
</ul>
<p>返回图片 image 在点(x, y)处的像素的 ARGB 值。</p>
<p>该值的格式为 0xAARRGGBB，是一个&quot;32 位整数&quot;(虽然 JavaScript 中并不区分整数类型和其他数值类型)。</p>
<p>坐标系以图片左上角为原点。以图片左侧边为 y 轴，上侧边为 x 轴。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesreadpixelspath">images.readPixels(path)<a class="hash-link" aria-label="images.readPixels(path)的直接链接" title="images.readPixels(path)的直接链接" href="/docs/rhino/advanced/images#imagesreadpixelspath">​</a></h2>
<ul>
<li><code>path</code> {string} 图片的地址</li>
<li><code>return</code> {Object} 包括图片的像素数据和宽高，{data,width,height}</li>
</ul>
<p>读取图片的像素数据和宽高。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesfindcolorimage-color-options">images.findColor(image, color, options)<a class="hash-link" aria-label="images.findColor(image, color, options)的直接链接" title="images.findColor(image, color, options)的直接链接" href="/docs/rhino/advanced/images#imagesfindcolorimage-color-options">​</a></h2>
<ul>
<li><code>image</code> {Image} 图片</li>
<li><code>color</code> {number} | {string} 要寻找的颜色的 RGB 值。如果是一个整数，则以 0xRRGGBB 的形式代表 RGB 值（A 通道会被忽略）；如果是字符串，则以&quot;#RRGGBB&quot;代表其 RGB 值。</li>
<li><code>options</code> {Object} 选项包括：<!-- -->
<ul>
<li><code>region</code> {Array} 找色区域。是一个两个或四个元素的数组。(region[0], region[1])表示找色区域的左上角；region[2]*region[3]表示找色区域的宽高。如果只有 region 只有两个元素，则找色区域为(region[0], region[1])到屏幕右下角。如果不指定 region 选项，则找色区域为整张图片。</li>
<li><code>threshold</code> {number} 找色时颜色相似度的临界值，范围为 0<del>255（越小越相似，0 为颜色相等，255 为任何颜色都能匹配）。默认为 4。threshold 和浮点数相似度(0.0</del>1.0)的换算为 similarity = (255 - threshold) / 255.</li>
</ul>
</li>
</ul>
<p>在图片中寻找颜色 color。找到时返回找到的点 Point，找不到时返回 null。</p>
<p>该函数也可以作为全局函数使用。</p>
<p>一个循环找色的例子如下：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">requestScreenCapture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//循环找色，找到红色(#ff0000)时停止并报告坐标</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">captureScreen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> point </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">findColor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#ff0000&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">point</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;找到红色，坐标为(&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> point</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">x</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;, &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> point</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">y</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>一个区域找色的例子如下：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//读取本地图片/sdcard/1.png</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/sdcard/1.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//判断图片是否加载成功</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;没有该图片&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//在该图片中找色，指定找色区域为在位置(400, 500)的宽为300长为200的区域，指定找色临界值为4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> point </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">findColor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#00ff00&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">region</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">400</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">threshold</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">point</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;找到啦:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> point</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;没找到&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesfindcolorinregionimg-color-x-y-width-height-threshold">images.findColorInRegion(img, color, x, y[, width, height, threshold])<a class="hash-link" aria-label="images.findColorInRegion(img, color, x, y[, width, height, threshold])的直接链接" title="images.findColorInRegion(img, color, x, y[, width, height, threshold])的直接链接" href="/docs/rhino/advanced/images#imagesfindcolorinregionimg-color-x-y-width-height-threshold">​</a></h2>
<p>区域找色的简便方法。</p>
<p>相当于</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">findColor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> color</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">region</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> width</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">threshold</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> threshold</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>该函数也可以作为全局函数使用。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesfindcolorequalsimg-color-x-y-width-height">images.findColorEquals(img, color[, x, y, width, height])<a class="hash-link" aria-label="images.findColorEquals(img, color[, x, y, width, height])的直接链接" title="images.findColorEquals(img, color[, x, y, width, height])的直接链接" href="/docs/rhino/advanced/images#imagesfindcolorequalsimg-color-x-y-width-height">​</a></h2>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>color</code> {number} | {string} 要寻找的颜色</li>
<li><code>x</code> {number} 找色区域的左上角横坐标</li>
<li><code>y</code> {number} 找色区域的左上角纵坐标</li>
<li><code>width</code> {number} 找色区域的宽度</li>
<li><code>height</code> {number} 找色区域的高度</li>
<li>返回 {Point}</li>
</ul>
<p>在图片 img 指定区域中找到颜色和 color 完全相等的某个点，并返回该点的左边；如果没有找到，则返回<code>null</code>。</p>
<p>找色区域通过<code>x</code>, <code>y</code>, <code>width</code>, <code>height</code>指定，如果不指定找色区域，则在整张图片中寻找。</p>
<p>该函数也可以作为全局函数使用。</p>
<p>示例：
(通过找 QQ 红点的颜色来判断是否有未读消息)</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">requestScreenCapture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">launchApp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;QQ&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">findColorEquals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">captureScreen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#f64d30&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;有未读消息&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;没有未读消息&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesfindallpointsforcolorimg-color-options">images.findAllPointsForColor(img, color, options)<a class="hash-link" aria-label="images.findAllPointsForColor(img, color, options)的直接链接" title="images.findAllPointsForColor(img, color, options)的直接链接" href="/docs/rhino/advanced/images#imagesfindallpointsforcolorimg-color-options">​</a></h2>
<ul>
<li><code>img</code> {Image} 图片</li>
<li><code>color</code> {number | string} 要检测的颜色</li>
<li><code>options</code> {Object} 选项包括：<!-- -->
<ul>
<li><code>region</code> {Array} 找色区域。是一个两个或四个元素的数组。(region[0], region[1])表示找色区域的左上角；region[2]*region[3]表示找色区域的宽高。如果 <code>region</code>只有两个元素，则找色区域为(region[0], region[1])到图片右下角。如果不指定<code>region</code>选项，则找色区域为整张图片。</li>
<li><code>similarity</code> {number} 找色时颜色相似度，范围为 0~1（越大越相似，1 为颜色相等，0 为任何颜色都能匹配）。</li>
<li><code>threshold</code> {number} 找色时颜色相似度的临界值，范围为 0 ~ 255（越小越相似，0 为颜色相等，255 为任何颜色都能匹配）。默认为 4。</li>
<li><code>similarity</code>与<code>threshold</code>的换算为<code>similarity</code> = (255 - <code>threshold</code>) / 255 。二选一，同时存在则以<code>similarity</code>为准。</li>
</ul>
</li>
<li><code>return</code> {Array}</li>
</ul>
<p>在图片中寻找所有颜色为<code>color</code>的点。找到时返回找到的点 Point 的数组，找不到时返回<code>null</code>。</p>
<p>例如找出所有白色的点：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">findAllPointsForColor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#ffffff&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesfindmulticolorsimg-firstcolor-colors-options">images.findMultiColors(img, firstColor, colors[, options])<a class="hash-link" aria-label="images.findMultiColors(img, firstColor, colors[, options])的直接链接" title="images.findMultiColors(img, firstColor, colors[, options])的直接链接" href="/docs/rhino/advanced/images#imagesfindmulticolorsimg-firstcolor-colors-options">​</a></h2>
<ul>
<li><code>img</code> {Image} 要找色的图片</li>
<li><code>firstColor</code> {number} | {string} 第一个点的颜色</li>
<li><code>colors</code> {Array} 表示剩下的点相对于第一个点的位置和颜色的数组，数组的每个元素为[x, y, color]</li>
<li><code>options</code> {Object} 选项，包括：<!-- -->
<ul>
<li><code>region</code> {Array} 找色区域。是一个两个或四个元素的数组。(region[0], region[1])表示找色区域的左上角；region[2]*region[3]表示找色区域的宽高。如果只有 region 只有两个元素，则找色区域为(region[0], region[1])到屏幕右下角。如果不指定 region 选项，则找色区域为整张图片。</li>
<li><code>threshold</code> {number} 找色时颜色相似度的临界值，范围为 0<del>255（越小越相似，0 为颜色相等，255 为任何颜色都能匹配）。默认为 4。threshold 和浮点数相似度(0.0</del>1.0)的换算为 similarity = (255 - threshold) / 255.</li>
</ul>
</li>
</ul>
<p>多点找色，类似于按键精灵的多点找色，其过程如下：</p>
<ol>
<li>在图片 img 中找到颜色 firstColor 的位置(x0, y0)</li>
<li>对于数组 colors 的每个元素[x, y, color]，检查图片 img 在位置(x + x0, y + y0)上的像素是否是颜色 color，是的话返回(x0, y0)，否则继续寻找 firstColor 的位置，重新执行第 1 步</li>
<li>整张图片都找不到时返回<code>null</code></li>
</ol>
<p>例如，对于代码<code>images.findMultiColors(img, &quot;#123456&quot;, [[10, 20, &quot;#ffffff&quot;], [30, 40, &quot;#000000&quot;]])</code>，假设图片在(100, 200)的位置的颜色为#123456, 这时如果(110, 220)的位置的颜色为#fffff 且(130, 240)的位置的颜色为#000000，则函数返回点(100, 200)。</p>
<p>如果要指定找色区域，则在 options 中指定，例如:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">findMultiColors</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;#123456&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#ffffff&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">30</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">40</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#000000&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">region</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">960</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1080</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">960</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesdetectscolorimage-color-x-y-threshold--16-algorithm--diff">images.detectsColor(image, color, x, y[, threshold = 16, algorithm = &quot;diff&quot;])<a class="hash-link" aria-label="images.detectsColor(image, color, x, y[, threshold = 16, algorithm = &quot;diff&quot;])的直接链接" title="images.detectsColor(image, color, x, y[, threshold = 16, algorithm = &quot;diff&quot;])的直接链接" href="/docs/rhino/advanced/images#imagesdetectscolorimage-color-x-y-threshold--16-algorithm--diff">​</a></h2>
<ul>
<li>
<p><code>image</code> {Image} 图片</p>
</li>
<li>
<p><code>color</code> {number} | {string} 要检测的颜色</p>
</li>
<li>
<p><code>x</code> {number} 要检测的位置横坐标</p>
</li>
<li>
<p><code>y</code> {number} 要检测的位置纵坐标</p>
</li>
<li>
<p><code>threshold</code> {number} 颜色相似度临界值，默认为 16。取值范围为 0~255。</p>
</li>
<li>
<p><code>algorithm</code> {string} 颜色匹配算法，包括:</p>
<ul>
<li>
<p>&quot;equal&quot;: 相等匹配，只有与给定颜色 color 完全相等时才匹配。</p>
</li>
<li>
<p>&quot;diff&quot;: 差值匹配。与给定颜色的 R、G、B 差的绝对值之和小于 threshold 时匹配。</p>
</li>
<li>
<p>&quot;rgb&quot;: rgb 欧拉距离相似度。与给定颜色 color 的 rgb 欧拉距离小于等于 threshold 时匹配。</p>
</li>
<li>
<p>&quot;rgb+&quot;: 加权 rgb 欧拉距离匹配(<a href="https://en.wikipedia.org/wiki/Color_difference" target="_blank" rel="noopener noreferrer">LAB Delta E</a>)。</p>
</li>
<li>
<p>&quot;hs&quot;: hs 欧拉距离匹配。hs 为 HSV 空间的色调值。</p>
</li>
</ul>
</li>
</ul>
<p>返回图片 image 在位置(x, y)处是否匹配到颜色 color。用于检测图片中某个位置是否是特定颜色。</p>
<p>一个判断微博客户端的某个微博是否被点赞过的例子：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">requestScreenCapture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//找到点赞控件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> like </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">id</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ly_feed_like_icon&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">findOne</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//获取该控件中点坐标</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> like</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">bounds</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">centerX</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> like</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">bounds</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">centerY</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//截图</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">captureScreen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//判断在该坐标的颜色是否为橙红色</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">detectsColor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;#fed9a8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//是的话则已经是点赞过的了，不做任何动作</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//否则点击点赞按钮</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  like</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesfindimageimg-template-options">images.findImage(img, template[, options])<a class="hash-link" aria-label="images.findImage(img, template[, options])的直接链接" title="images.findImage(img, template[, options])的直接链接" href="/docs/rhino/advanced/images#imagesfindimageimg-template-options">​</a></h2>
<ul>
<li><code>img</code> {Image} 大图片</li>
<li><code>template</code> {Image} 小图片（模板）</li>
<li><code>options</code> {Object} 选项包括：<!-- -->
<ul>
<li><code>threshold</code> {number} 图片相似度。取值范围为 0~1 的浮点数。默认值为 0.9。</li>
<li><code>region</code> {Array} 找图区域。参见 findColor 函数关于 region 的说明。</li>
<li><code>level</code> {number} <strong>一般而言不必修改此参数</strong>。不加此参数时该参数会根据图片大小自动调整。找图算法是采用图像金字塔进行的, level 参数表示金字塔的层次, level 越大可能带来越高的找图效率，但也可能造成找图失败（图片因过度缩小而无法分辨）或返回错误位置。因此，除非您清楚该参数的意义并需要进行性能调优，否则不需要用到该参数。</li>
</ul>
</li>
</ul>
<p>找图。在大图片 img 中查找小图片 template 的位置（模块匹配），找到时返回位置坐标(Point)，找不到时返回 null。</p>
<p>该函数也可以作为全局函数使用。</p>
<p>一个最简单的找图例子如下：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/sdcard/大图.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> templ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/sdcard/小图.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">findImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> templ</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;找到啦:&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;没找到&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>稍微复杂点的区域找图例子如下：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">auto</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">requestScreenCapture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> wx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/sdcard/微信图标.png&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//返回桌面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">home</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//截图并找图</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">findImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">captureScreen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> wx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">region</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">threshold</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;在桌面找到了微信图标啦: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">toast</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;在桌面没有找到微信图标&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesfindimageinregionimg-template-x-y-width-height-threshold">images.findImageInRegion(img, template, x, y[, width, height, threshold])<a class="hash-link" aria-label="images.findImageInRegion(img, template, x, y[, width, height, threshold])的直接链接" title="images.findImageInRegion(img, template, x, y[, width, height, threshold])的直接链接" href="/docs/rhino/advanced/images#imagesfindimageinregionimg-template-x-y-width-height-threshold">​</a></h2>
<p>区域找图的简便方法。相当于：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">findImage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> template</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">region</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> width</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">threshold</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> threshold</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>该函数也可以作为全局函数使用。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesmatchtemplateimg-template-options">images.matchTemplate(img, template, options)<a class="hash-link" aria-label="images.matchTemplate(img, template, options)的直接链接" title="images.matchTemplate(img, template, options)的直接链接" href="/docs/rhino/advanced/images#imagesmatchtemplateimg-template-options">​</a></h2>
<p><strong>[v4.1.0 新增]</strong></p>
<ul>
<li><code>img</code> {Image} 大图片</li>
<li><code>template</code> {Image} 小图片（模板）</li>
<li><code>options</code> {Object} 找图选项：<!-- -->
<ul>
<li><code>threshold</code> {number} 图片相似度。取值范围为 0~1 的浮点数。默认值为 0.9。</li>
<li><code>region</code> {Array} 找图区域。参见 findColor 函数关于 region 的说明。</li>
<li><code>max</code> {number} 找图结果最大数量，默认为 5</li>
<li><code>level</code> {number} <strong>一般而言不必修改此参数</strong>。不加此参数时该参数会根据图片大小自动调整。找图算法是采用图像金字塔进行的, level 参数表示金字塔的层次, level 越大可能带来越高的找图效率，但也可能造成找图失败（图片因过度缩小而无法分辨）或返回错误位置。因此，除非您清楚该参数的意义并需要进行性能调优，否则不需要用到该参数。</li>
</ul>
</li>
<li>返回 {MatchingResult}</li>
</ul>
<p>在大图片中搜索小图片，并返回搜索结果 MatchingResult。该函数可以用于找图时找出多个位置，可以通过 max 参数控制最大的结果数量。也可以对匹配结果进行排序、求最值等操作。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesfindcirclesgray-options">images.findCircles(gray, options)<a class="hash-link" aria-label="images.findCircles(gray, options)的直接链接" title="images.findCircles(gray, options)的直接链接" href="/docs/rhino/advanced/images#imagesfindcirclesgray-options">​</a></h2>
<ul>
<li><code>gray</code> {Image} 灰度图片</li>
<li><code>options</code> {Object} 选项包括：<!-- -->
<ul>
<li><code>region</code> {Array} 找圆区域。是一个两个或四个元素的数组。(region[0], region[1])表示找圆区域的左上角；region[2]*region[3]表示找圆区域的宽高。如果只有 region 只有两个元素，则找圆区域为(region[0], region[1])到图片右下角。如果不指定<code>region</code>选项，则找圆区域为整张图片。</li>
<li><code>dp</code> {number} dp 是累加面与原始图像相比的分辨率的反比参数，dp=2 时累计面分辨率是元素图像的一半，宽高都缩减为原来的一半，dp=1 时，两者相同。默认为 1。</li>
<li><code>minDst</code> {number} minDist 定义了两个圆心之间的最小距离。默 认为图片高度的八分之一。</li>
<li><code>param1</code> {number} param1 是 Canny 边缘检测的高阈值，低阈值被自动置为高阈值的一半。默认为 100，范围为 0-255。</li>
<li><code>param2</code> {number} param2 是累加平面对是否是圆的判定阈值，默认为 100。</li>
<li><code>minRadius</code> {number} 定义了检测到的圆的半径的最小值，默认为 0。</li>
<li><code>maxRadius</code> {number} 定义了检测到的圆的半径的最大值，0 为不限制最大值，默认为 0。</li>
</ul>
</li>
<li><code>return</code> {Array}</li>
</ul>
<p>在图片中寻找圆（做霍夫圆变换）。找到时返回找到的所有圆{x,y,radius}的数组，找不到时返回 null。</p>
<p>一个寻找圆的例子：</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 请求截图</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">requestScreenCapture</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 截图</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> img </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">captureScreen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 灰度化图片</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> gray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">grayscale</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 找圆</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> arr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">findCircles</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">gray</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">dp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">minDst</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">param1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">param2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">minRadius</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">maxRadius</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 回收图片</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gray</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">recycle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>MatchingResult</h1>
<p><strong>[v4.1.0 新增]</strong></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="matches">matches<a class="hash-link" aria-label="matches的直接链接" title="matches的直接链接" href="/docs/rhino/advanced/images#matches">​</a></h2>
<ul>
<li>{Array} 匹配结果的数组。</li>
</ul>
<p>数组的元素是一个 Match 对象：</p>
<ul>
<li><code>point</code> {Point} 匹配位置</li>
<li><code>similarity</code> {number} 相似度</li>
</ul>
<p>例如:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">matchTemplate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> template</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">max</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">matches</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">match</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;point = &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> match</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">point</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;, similarity = &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> match</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">similarity</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="points">points<a class="hash-link" aria-label="points的直接链接" title="points的直接链接" href="/docs/rhino/advanced/images#points">​</a></h2>
<ul>
<li>{Array} 匹配位置的数组。</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="first">first()<a class="hash-link" aria-label="first()的直接链接" title="first()的直接链接" href="/docs/rhino/advanced/images#first">​</a></h2>
<ul>
<li>返回 {Match}</li>
</ul>
<p>第一个匹配结果。如果没有任何匹配，则返回<code>null</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="last">last()<a class="hash-link" aria-label="last()的直接链接" title="last()的直接链接" href="/docs/rhino/advanced/images#last">​</a></h2>
<ul>
<li>返回 {Match}</li>
</ul>
<p>最后一个匹配结果。如果没有任何匹配，则返回<code>null</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="leftmost">leftmost()<a class="hash-link" aria-label="leftmost()的直接链接" title="leftmost()的直接链接" href="/docs/rhino/advanced/images#leftmost">​</a></h2>
<ul>
<li>返回 {Match}</li>
</ul>
<p>位于大图片最左边的匹配结果。如果没有任何匹配，则返回<code>null</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="topmost">topmost()<a class="hash-link" aria-label="topmost()的直接链接" title="topmost()的直接链接" href="/docs/rhino/advanced/images#topmost">​</a></h2>
<ul>
<li>返回 {Match}</li>
</ul>
<p>位于大图片最上边的匹配结果。如果没有任何匹配，则返回<code>null</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rightmost">rightmost()<a class="hash-link" aria-label="rightmost()的直接链接" title="rightmost()的直接链接" href="/docs/rhino/advanced/images#rightmost">​</a></h2>
<ul>
<li>返回 {Match}</li>
</ul>
<p>位于大图片最右边的匹配结果。如果没有任何匹配，则返回<code>null</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bottommost">bottommost()<a class="hash-link" aria-label="bottommost()的直接链接" title="bottommost()的直接链接" href="/docs/rhino/advanced/images#bottommost">​</a></h2>
<ul>
<li>返回 {Match}</li>
</ul>
<p>位于大图片最下边的匹配结果。如果没有任何匹配，则返回<code>null</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="best">best()<a class="hash-link" aria-label="best()的直接链接" title="best()的直接链接" href="/docs/rhino/advanced/images#best">​</a></h2>
<ul>
<li>返回 {Match}</li>
</ul>
<p>相似度最高的匹配结果。如果没有任何匹配，则返回<code>null</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="worst">worst()<a class="hash-link" aria-label="worst()的直接链接" title="worst()的直接链接" href="/docs/rhino/advanced/images#worst">​</a></h2>
<ul>
<li>返回 {Match}</li>
</ul>
<p>相似度最低的匹配结果。如果没有任何匹配，则返回<code>null</code>。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sortbycmp">sortBy(cmp)<a class="hash-link" aria-label="sortBy(cmp)的直接链接" title="sortBy(cmp)的直接链接" href="/docs/rhino/advanced/images#sortbycmp">​</a></h2>
<ul>
<li>cmp {Function}|{string} 比较函数，或者是一个字符串表示排序方向。例如&quot;left&quot;表示将匹配结果按匹配位置从左往右排序、&quot;top&quot;表示将匹配结果按匹配位置从上往下排序，&quot;left-top&quot;表示将匹配结果按匹配位置从左往右、从上往下排序。方向包括<code>left</code>（左）, <code>top</code> （上）, <code>right</code> （右）, <code>bottom</code>（下）。</li>
<li>{MatchingResult}</li>
</ul>
<p>对匹配结果进行排序，并返回排序后的结果。</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> images</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">matchTemplate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> template</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">max</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">sortBy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;top-right&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>Image</h1>
<p>表示一张图片，可以是截图的图片，或者本地读取的图片，或者从网络获取的图片。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagegetwidth">Image.getWidth()<a class="hash-link" aria-label="Image.getWidth()的直接链接" title="Image.getWidth()的直接链接" href="/docs/rhino/advanced/images#imagegetwidth">​</a></h2>
<p>返回以像素为单位图片宽度。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagegetheight">Image.getHeight()<a class="hash-link" aria-label="Image.getHeight()的直接链接" title="Image.getHeight()的直接链接" href="/docs/rhino/advanced/images#imagegetheight">​</a></h2>
<p>返回以像素为单位的图片高度。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagesavetopath">Image.saveTo(path)<a class="hash-link" aria-label="Image.saveTo(path)的直接链接" title="Image.saveTo(path)的直接链接" href="/docs/rhino/advanced/images#imagesavetopath">​</a></h2>
<ul>
<li><code>path</code> {string} 路径</li>
</ul>
<p>把图片保存到路径 path。（如果文件存在则覆盖）</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="imagepixelx-y">Image.pixel(x, y)<a class="hash-link" aria-label="Image.pixel(x, y)的直接链接" title="Image.pixel(x, y)的直接链接" href="/docs/rhino/advanced/images#imagepixelx-y">​</a></h2>
<ul>
<li><code>x</code> {number} 横坐标</li>
<li><code>y</code> {number} 纵坐标</li>
</ul>
<p>返回图片 image 在点(x, y)处的像素的 ARGB 值。</p>
<p>该值的格式为 0xAARRGGBB，是一个&quot;32 位整数&quot;(虽然 JavaScript 中并不区分整数类型和其他数值类型)。</p>
<p>坐标系以图片左上角为原点。以图片左侧边为 y 轴，上侧边为 x 轴。</p>
<h1>Point</h1>
<p>findColor, findImage 返回的对象。表示一个点（坐标）。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pointx">Point.x<a class="hash-link" aria-label="Point.x的直接链接" title="Point.x的直接链接" href="/docs/rhino/advanced/images#pointx">​</a></h2>
<p>横坐标。</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pointy">Point.y<a class="hash-link" aria-label="Point.y的直接链接" title="Point.y的直接链接" href="/docs/rhino/advanced/images#pointy">​</a></h2>
<p>纵坐标。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rhino/advanced/images.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/rhino/advanced/floaty"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Floaty 悬浮窗</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/rhino/advanced/media"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Media 多媒体</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorstostringcolor">colors.toString(color)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsredcolor">colors.red(color)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsgreencolor">colors.green(color)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsbluecolor">colors.blue(color)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsalphacolor">colors.alpha(color)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsrgbred-green-blue">colors.rgb(red, green, blue)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsargbalpha-red-green-blue">colors.argb(alpha, red, green, blue)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsparsecolorcolorstr">colors.parseColor(colorStr)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsissimilarcolor2-color2-threshold-algorithm">colors.isSimilar(color2, color2[, threshold, algorithm])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsequalscolor1-color2">colors.equals(color1, color2)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsblack">colors.BLACK</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsdkgray">colors.DKGRAY</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsgray">colors.GRAY</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsltgray">colors.LTGRAY</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorswhite">colors.WHITE</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsred">colors.RED</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsgreen">colors.GREEN</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsblue">colors.BLUE</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsyellow">colors.YELLOW</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorscyan">colors.CYAN</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorsmagenta">colors.MAGENTA</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#colorstransparent">colors.TRANSPARENT</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#图片处理">图片处理</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesreadpath">images.read(path)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesloadurl">images.load(url)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagescopyimg">images.copy(img)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagessaveimage-path-format--png-quality--100">images.save(image, path[, format = &quot;png&quot;, quality = 100])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesfrombase64base64">images.fromBase64(base64)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagestobase64img-format--png-quality--100">images.toBase64(img[, format = &quot;png&quot;, quality = 100])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesfrombytesbytes">images.fromBytes(bytes)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagestobytesimg-format--png-quality--100">images.toBytes(img[, format = &quot;png&quot;, quality = 100])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesclipimg-x-y-w-h">images.clip(img, x, y, w, h)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesresizeimg-size-interpolation">images.resize(img, size[, interpolation])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesscaleimg-fx-fy-interpolation">images.scale(img, fx, fy[, interpolation])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesrotateimg-degress-x-y">images.rotate(img, degress[, x, y])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesconcatimg1-image2-direction">images.concat(img1, image2[, direction])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesgrayscaleimg">images.grayscale(img)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagethresholdimg-threshold-maxval-type">image.threshold(img, threshold, maxVal[, type])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesadaptivethresholdimg-maxvalue-adaptivemethod-thresholdtype-blocksize-c">images.adaptiveThreshold(img, maxValue, adaptiveMethod, thresholdType, blockSize, C)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagescvtcolorimg-code-dstcn">images.cvtColor(img, code[, dstCn])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesinrangeimg-lowerbound-upperbound">images.inRange(img, lowerBound, upperBound)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesintervalimg-color-interval">images.interval(img, color, interval)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesblurimg-size-anchor-type">images.blur(img, size[, anchor, type])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesmedianblurimg-size">images.medianBlur(img, size)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesgaussianblurimg-size-sigmax-sigmay-type">images.gaussianBlur(img, size[, sigmaX, sigmaY, type])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesmattoimagemat">images.matToImage(mat)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#找图找色">找图找色</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesrequestscreencapturelandscape">images.requestScreenCapture([landscape])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesstopscreencapturer">images.stopScreenCapturer()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagescapturescreen">images.captureScreen()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagescapturescreenpath">images.captureScreen(path)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagespixelimage-x-y">images.pixel(image, x, y)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesreadpixelspath">images.readPixels(path)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesfindcolorimage-color-options">images.findColor(image, color, options)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesfindcolorinregionimg-color-x-y-width-height-threshold">images.findColorInRegion(img, color, x, y[, width, height, threshold])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesfindcolorequalsimg-color-x-y-width-height">images.findColorEquals(img, color[, x, y, width, height])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesfindallpointsforcolorimg-color-options">images.findAllPointsForColor(img, color, options)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesfindmulticolorsimg-firstcolor-colors-options">images.findMultiColors(img, firstColor, colors[, options])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesdetectscolorimage-color-x-y-threshold--16-algorithm--diff">images.detectsColor(image, color, x, y[, threshold = 16, algorithm = &quot;diff&quot;])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesfindimageimg-template-options">images.findImage(img, template[, options])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesfindimageinregionimg-template-x-y-width-height-threshold">images.findImageInRegion(img, template, x, y[, width, height, threshold])</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesmatchtemplateimg-template-options">images.matchTemplate(img, template, options)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesfindcirclesgray-options">images.findCircles(gray, options)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#matches">matches</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#points">points</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#first">first()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#last">last()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#leftmost">leftmost()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#topmost">topmost()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#rightmost">rightmost()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#bottommost">bottommost()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#best">best()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#worst">worst()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#sortbycmp">sortBy(cmp)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagegetwidth">Image.getWidth()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagegetheight">Image.getHeight()</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagesavetopath">Image.saveTo(path)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#imagepixelx-y">Image.pixel(x, y)</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#pointx">Point.x</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/rhino/advanced/images#pointy">Point.y</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/rhino/documentation">rhino api文档(v6)</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/nodejs/intro">nodejs api文档(v7)</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/kkevsekk1/AutoX" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>